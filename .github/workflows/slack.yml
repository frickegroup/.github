on:
  workflow_call:

jobs:
  slack:
    name: Send Slack Notification 
    runs-on: ubuntu-latest
    steps:
      - run: echo ${{ github.event }}
      - run: echo ${{ github.event_name }}
      - run: echo ${{ github.event_path }}
      - run: |
          echo "Sending Slack Notification"
          curl -L 'https://slack.com/api/chat.postMessage' -H 'Content-Type: application/json' -H 'Authorization: Bearer ${{ secrets.FRIX_NOTIFICATION_BOT }}' -d '{"channel":"C07NR13KX62","blocks":[{"type":"section","text":{"type":"mrkdwn","text":"*NewGitHubIssueOpened!*\n\n*<${{github.event.issue.html_url}}|Issue#${{github.event.issue.number}}:${{github.event.issue.title}}>*\n*Description*:${{github.event.issue.body}}\n\n*Openedby:*${{github.event.issue.user.login}}"}},{"type":"divider"},{"type":"context","elements":[{"type":"mrkdwn","text":":calendar:*Openedon:*${{github.event.issue.created_at}}"}]},{"type":"actions","elements":[{"type":"button","text":{"type":"plain_text","emoji":true,"text":"ViewIssue"},"url":"${{github.event.issue.html_url}}","style":"primary"}]}]}'
